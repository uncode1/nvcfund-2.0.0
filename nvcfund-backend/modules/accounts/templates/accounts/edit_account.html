<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Account - NVC Banking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #0f172a !important; color: #e2e8f0 !important; font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', system-ui, sans-serif !important; margin: 0; padding: 20px; }
        .dashboard-stat-card { background: #1e293b !important; border: 1px solid #334155 !important; border-radius: 8px !important; padding: 1.5rem; margin-bottom: 1rem; }
        .card { background: #1e293b !important; border: 1px solid #334155 !important; color: #e2e8f0 !important; }
        .btn-primary { background: #3b82f6 !important; border-color: #3b82f6 !important; }
        .table-dark { background: #1e293b !important; }
        .table-dark td, .table-dark th { border-color: #334155 !important; color: #e2e8f0 !important; }
    </style>
</head>
<body>


<div class="container-fluid py-4">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <div class="row align-items-center">
                        <div class="col">
                            <h1 class="h2 text-light mb-2">
                                <i class="fas fa-edit me-2"></i>Edit Account
                            </h1>
                            <p class="text-light mb-0">Modify account information for {{ account_number }}</p>
                        </div>
                        <div class="col-auto">
                            <div class="btn-group">
                                <a href="{{ url_for('accounts.overview') }}" class="btn btn-outline-light btn-sm">
                                    <i class="fas fa-arrow-left me-1"></i>Back to Overview
                                </a>
                                <a href="{{ url_for('accounts.account_details', account=account_number) }}" class="btn btn-outline-light btn-sm">
                                    <i class="fas fa-eye me-1"></i>View Details
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Form -->
    <div class="row">
        <div class="col-lg-8 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-user-edit me-2"></i>Account Information</h5>
                </div>
                <div class="card-body">
                    <form id="editAccountForm" data-validate="true" method="POST">
                        <input type="hidden" name="account_number" value="{{ account_number }}">
                        
                        <!-- Account Status -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="accountStatus" class="form-label">Account Status</label>
                                    <select class="form-select" id="accountStatus" name="accountStatus" required>
                                        <option value="active" selected>Active</option>
                                        <option value="inactive">Inactive</option>
                                        <option value="frozen">Frozen</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="accountType" class="form-label">Account Type</label>
                                    <select class="form-select" id="accountType" name="accountType" required>
                                        <option value="checking" selected>Checking Account</option>
                                        <option value="savings">Savings Account</option>
                                        <option value="business">Business Account</option>
                                        <option value="investment">Investment Account</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Customer Information -->
                        <h6 class="mt-4 mb-3">Customer Information</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" name="firstName" value="John" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" name="lastName" value="Doe" required>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="email" name="email" value="john.doe@email.com" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="phone" name="phone" value="(555) 123-4567" required>
                                </div>
                            </div>
                        </div>

                        <!-- Address Information -->
                        <h6 class="mt-4 mb-3">Address Information</h6>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="address" class="form-label">Street Address</label>
                                    <input type="text" class="form-control" id="address" name="address" value="123 Main Street" required>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="city" class="form-label">City</label>
                                    <input type="text" class="form-control" id="city" name="city" value="Anytown" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="state" class="form-label">State</label>
                                    <select class="form-select" id="state" name="state" required>
                                        <option value="NY" selected>New York</option>
                                        <option value="CA">California</option>
                                        <option value="TX">Texas</option>
                                        <option value="FL">Florida</option>
                                        <!-- Add more states as needed -->
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="zipCode" class="form-label">ZIP Code</label>
                                    <input type="text" class="form-control" id="zipCode" name="zipCode" value="12345" required>
                                </div>
                            </div>
                        </div>

                        <!-- Account Features -->
                        <h6 class="mt-4 mb-3">Account Features</h6>
                        <div class="row">
                            <div class="col-12">
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="overdraftProtection" name="overdraftProtection">
                                    <label class="form-check-label" for="overdraftProtection">
                                        Overdraft Protection Enabled
                                    </label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="paperlessStatements" name="paperlessStatements" checked>
                                    <label class="form-check-label" for="paperlessStatements">
                                        Paperless Statements
                                    </label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="mobileAlerts" name="mobileAlerts" checked>
                                    <label class="form-check-label" for="mobileAlerts">
                                        Mobile Transaction Alerts
                                    </label>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="debitCard" name="debitCard" checked>
                                    <label class="form-check-label" for="debitCard">
                                        Debit Card Active
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="d-flex justify-content-between mt-4">
                            <button type="button" class="btn btn-outline-secondary" onclick="window.location.href='{{ url_for('accounts.overview') }}'">
                                <i class="fas fa-times me-1"></i>Cancel
                            </button>
                            <div>
                                <button type="button" class="btn btn-outline-primary me-2" data-action="save_draft">
                                    <i class="fas fa-save me-1"></i>Save Draft
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-check me-1"></i>Save Changes
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Account Summary -->
        <div class="col-lg-4 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-chart-line me-2"></i>Account Summary</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label class="text-light">Account Number</label>
                        <div class="h6">{{ account_number }}</div>
                    </div>
                    <div class="mb-3">
                        <label class="text-light">Current Balance</label>
                        <div class="h5 text-success">$15,847.52</div>
                    </div>
                    <div class="mb-3">
                        <label class="text-light">Available Balance</label>
                        <div class="h6">$15,347.52</div>
                    </div>
                    <div class="mb-3">
                        <label class="text-light">Date Opened</label>
                        <div>January 15, 2024</div>
                    </div>
                    <div class="mb-3">
                        <label class="text-light">Last Modified</label>
                        <div>{{ "Today"|default("--") }}</div>
                    </div>
                </div>
            </div>

            <!-- Recent Changes -->
            <div class="card mt-3">
                <div class="card-header">
                    <h5><i class="fas fa-history me-2"></i>Recent Changes</h5>
                </div>
                <div class="card-body">
                    <div class="activity-item mb-3">
                        <div class="d-flex align-items-center">
                            <div class="bg-info rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                                <i class="fas fa-edit text-white small"></i>
                            </div>
                            <div>
                                <div class="small">Email updated</div>
                                <small class="text-light">2 days ago</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-item mb-3">
                        <div class="d-flex align-items-center">
                            <div class="bg-success rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                                <i class="fas fa-check text-white small"></i>
                            </div>
                            <div>
                                <div class="small">Phone verified</div>
                                <small class="text-light">1 week ago</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="d-flex align-items-center">
                            <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                                <i class="fas fa-user text-white small"></i>
                            </div>
                            <div>
                                <div class="small">Account created</div>
                                <small class="text-light">6 months ago</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Form submission handler
    document.getElementById('editAccountForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Show success message
        if (typeof showGlobalNotification === 'function') {
            showGlobalNotification('Account information updated successfully!', 'success');
        }
        
        // Redirect after 2 seconds
        setTimeout(() => {
            window.location.href = '{{ url_for("accounts.overview") }}';
        }, 2000);
    });
});
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>